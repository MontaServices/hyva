<?php

use Magento\Framework\Escaper;
use Magento\Framework\View\Element\Template;
use \Magento\Framework\App\ObjectManager;

/**
 * @var Escaper $escaper
 * @var Template $block
 */

?>

<div wire:init="init()">
    <?php if ($magewire->shouldShowDatePicker): ?>

        <div class="flex flex-col gap-2 hover:cursor-pointer">
            <?php if ($magewire->userSelectedShipperCode == null): ?>
                <?php if ($magewire->standardShipper != null): ?>
                    <?php $shipper = (array)$magewire->standardShipper ?>
                    <div tabindex="1" wire:click="shipperStandardSelected('<?= $shipper['code'] ?>')"
                         class="flex  flex-row rounded-lg border-slate-300 border-2  justify-between focus:border-blue-300 p-2">
                        <div class="basis-1/4 p-6">
                            Standaard bezorging
                        </div>
                        <div class="basis-2/4 p-6">
                            Uw order wordt bezorgd met <?= $shipper['displayName'] ?>
                        </div>
                        <div class="basis-1/4 p-6 text-right">
                            <p><?= $shipper['priceFormatted'] ?></p>
                        </div>
                    </div>

                <?php endif; ?>
            <?php endif; ?>
            <?php if ($magewire->userSelectedShipperCode == null): ?>
                <div tabindex="2"
                     class="flex flex-col  rounded-lg border-slate-300 border-2  focus:border-blue-300 p-2">


                    <div class="flex w-full overflow-x-hidden">
                        <?= $block->getChildHtml('monta_delivery_monta_delivery-options') ?>
                    </div>
                </div>


            <?php elseif ($magewire->userSelectedShipperCode != null && $magewire->type == 'delivery'): ?>
                <div tabindex="2"
                     class="flex flex-col  rounded-lg border-slate-300 border-2  focus:border-blue-300 p-2">

                    <div class="flex w-full overflow-x-hidden">
                        <?= $block->getChildHtml('monta_delivery_monta_delivery-options-selected-overview') ?>
                    </div>
                </div>
            <?php endif; ?>



            <?php if ($magewire->userSelectedShipperCode != null && $magewire->type == 'pickup'): ?>
                <div tabindex="3" class="flex flex-row rounded-lg border-slate-300 border-2 focus:border-blue-300 p-8">


                    <div class="flex w-full bg-slate-transparent focus:bg-slate-400">
                        <?= $block->getChildHtml('monta_delivery_monta_pickup-options-selected-overview') ?>
                    </div>
                </div>
            <?php elseif ($magewire->userSelectedShipperCode == null): ?>
                <div tabindex="3" class="flex flex-row rounded-lg border-slate-300 border-2 focus:border-blue-300 p-8">

                    <div class="flex w-full">
                        <?= $block->getChildHtml('monta_delivery_monta_pickup-options') ?>
                    </div>
                </div>
            <?php endif; ?>
        </div>
    <?php endif; ?>


